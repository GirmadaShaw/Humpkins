<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PagePal - Section List</title>
  <link rel="icon" type="images/x-icon" href="{{ url_for( 'static' , filename='pictures/favicon.ico' ) }}" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

  <style>
    body {
      background-image: url("../static/pictures/background-image.avif");
      background-repeat: space;
      background-size: 1%;
    }
    .message {
      position : fixed ; 
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      margin-top: 20px;
    }


    .commands {
      display: flex;
      flex-direction: row;
      gap: 500px;
    }

    .container {
      padding-left: 150px;
    }
  </style>
</head>

<body>

  <div class="message">
    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %} {% for cat,msg in messages %}
    <div class="alert alert-{{ cat }}">
      {{msg}}
    </div>
    {% endfor %} {% endif %} {% endwith %}
  </div>

  <div class="container-fluid">

    <h1 style="margin-left : 30rem ;"> <b>All Sections</b> </h1><hr>

    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col"><strong style="color: brown;">ID</strong></th>
          <th scope="col"><strong style="color: brown;">Name</strong></th>
          <th scope="col"><strong style="color: brown;">Data_Created</strong></th>
          <th scope="col"><strong style="color: brown;">Description</strong></th>
          <th scope="col"><strong style="color: brown;">Archivist_id</strong></th>
          <th scope="col"><strong style="color: brown;">Books</strong></th>
        </tr>
      </thead>
      <tbody>
        {% for section in all_sections %}

        <tr>
          <th scope="row">{{ section.id }}</th>
          <td>{{ section.name }}</td>
          <td>{{ section.date_created }}</td>
          <td>{{ section.description }}</td>
          <td>{{ section.archivist_id }}</td>
          <td>
            {% for book in section.books %} {{ book.name }}, {% endfor %}
          </td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="container">
    <div class="commands">
      <button style="margin: 30px">
        <a href=" {{ url_for( 'add_section' ) }}" style="color: black; text-decoration: none">
          <strong style="color: brown;">Add Section</strong>
        </a>
      </button>
      <button style="margin: 30px">
        <a href=" {{ url_for( 'edit_section' ) }}" style="color: black; text-decoration: none">
          <strong style="color: brown;">Edit Section</strong>
        </a>
      </button>
    </div>
  </div>
</body>

</html>